{"version":3,"sources":["webpack:///static/js/app.3f489c43def2fc20d127.js","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/services/socket-service.js","webpack:///./src/App.vue?18a2","webpack:///src/App.vue"],"names":["webpackJsonp","0","module","exports","HI86","M93x","__webpack_exports__","__webpack_require__","injectStyle","ssrContext","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_b07f5b4e_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__","normalizeComponent","__vue_styles__","Component","NHnr","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_2_element_ui__","__WEBPACK_IMPORTED_MODULE_2_element_ui___default","n","__WEBPACK_IMPORTED_MODULE_3_element_ui_lib_theme_chalk_index_css__","__WEBPACK_IMPORTED_MODULE_4__services_socket_service__","use","a","config","productionTip","el","render","h","sgzJ","__WEBPACK_IMPORTED_MODULE_0_socket_io_client__","__WEBPACK_IMPORTED_MODULE_0_socket_io_client___default","console","log","socket","install","Vue","options","prototype","$socket","tvR6","v6e+","_vm","this","_h","$createElement","_c","_self","_v","_s","header","attrs","width","id","staticRenderFns","esExports","xJD8","__WEBPACK_IMPORTED_MODULE_0_konva__","__WEBPACK_IMPORTED_MODULE_0_konva___default","name","data","image","context","created","audio","Audio","on","pause","currentTime","play","mounted","_this","document","getElementById","clientWidth","stage","Stage","container","height","layer","Layer","add","canvas","createElement","Image","x","y","draw","getContext","strokeStyle","lineJoin","lineWidth","isPaint","lastPointerPosition","getPointerPosition","globalCompositeOperation","beginPath","startPos","moveTo","pos","endPos","lineTo","closePath","stroke","emit"],"mappings":"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","file":"static/js/app.3f489c43def2fc20d127.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 0:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ \"HI86\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"M93x\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__ = __webpack_require__(\"xJD8\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_b07f5b4e_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__ = __webpack_require__(\"v6e+\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"HI86\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_b07f5b4e_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"NHnr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"/5sW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(\"M93x\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_element_ui__ = __webpack_require__(\"zL8q\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_element_ui___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_element_ui__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_element_ui_lib_theme_chalk_index_css__ = __webpack_require__(\"tvR6\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_element_ui_lib_theme_chalk_index_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_element_ui_lib_theme_chalk_index_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_socket_service__ = __webpack_require__(\"sgzJ\");\n\n\n/*import router from './router'*/\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_2_element_ui___default.a);\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_4__services_socket_service__[\"a\" /* default */]);\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].config.productionTip = false;\n\n/* eslint-disable no-new */\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"]({\n  el: '#app',\n  /*router,*/\n  render: function render(h) {\n    return h(__WEBPACK_IMPORTED_MODULE_1__App__[\"a\" /* default */]);\n  }\n});\n\n/***/ }),\n\n/***/ \"sgzJ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_socket_io_client__ = __webpack_require__(\"DmT9\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_socket_io_client___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_socket_io_client__);\n\nvar SOCKET_URL =  false ? 'http://localhost:3001' : '';\nconsole.log(SOCKET_URL);\n\nvar socket = {\n  install: function install(Vue, options) {\n    Vue.prototype.$socket = __WEBPACK_IMPORTED_MODULE_0_socket_io_client___default()(SOCKET_URL);\n  }\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (socket);\n\n/***/ }),\n\n/***/ \"tvR6\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"v6e+\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',[_c('el-header',[_vm._v(_vm._s(_vm.header))]),_vm._v(\" \"),_c('el-container',[_c('el-aside',{attrs:{\"width\":\"200px\"}},[_vm._v(\"Aside\")]),_vm._v(\" \"),_c('el-container',[_c('el-main',{attrs:{\"id\":\"container\"}}),_vm._v(\" \"),_c('el-footer',[_vm._v(\"Footer\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"xJD8\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_konva__ = __webpack_require__(\"xLKd\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_konva___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_konva__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'app',\n  data: function data() {\n    return {\n      header: 'HEAD!',\n      image: null,\n      context: null\n    };\n  },\n  created: function created() {\n    var audio = new Audio( false ? 'http://localhost:3001/suka.mp3' : '/suka.mp3');\n    this.$socket.on('connected', function () {\n      console.log('user connected!');\n\n      audio.pause();\n      audio.currentTime = 0;\n      audio.play();\n    });\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    var width = document.getElementById('container').clientWidth - 40;\n\n    var stage = new __WEBPACK_IMPORTED_MODULE_0_konva___default.a.Stage({\n      container: 'container',\n      width: width,\n      height: 500\n    });\n    var layer = new __WEBPACK_IMPORTED_MODULE_0_konva___default.a.Layer();\n    stage.add(layer);\n    var canvas = document.createElement('canvas');\n    canvas.width = stage.width();\n    canvas.height = stage.height();\n    this.image = new __WEBPACK_IMPORTED_MODULE_0_konva___default.a.Image({\n      image: canvas,\n      x: 0,\n      y: 0\n    });\n    layer.add(this.image);\n    stage.draw();\n    this.context = canvas.getContext('2d');\n    this.context.strokeStyle = \"#df4b26\";\n    this.context.lineJoin = \"round\";\n    this.context.lineWidth = 5;\n\n    var isPaint = false;\n    var lastPointerPosition = void 0;\n    var mode = 'brush';\n\n    stage.on('contentMousedown.proto', function () {\n      isPaint = true;\n      lastPointerPosition = stage.getPointerPosition();\n    });\n    stage.on('contentMouseup.proto', function () {\n      isPaint = false;\n    });\n    stage.on('contentMousemove.proto', function () {\n      if (!isPaint) {\n        return;\n      }\n      if (mode === 'brush') {\n        _this.context.globalCompositeOperation = 'source-over';\n      }\n      if (mode === 'eraser') {\n        _this.context.globalCompositeOperation = 'destination-out';\n      }\n      _this.context.beginPath();\n      var startPos = {\n        x: lastPointerPosition.x - _this.image.x(),\n        y: lastPointerPosition.y - _this.image.y()\n      };\n      _this.context.moveTo(startPos.x, startPos.y);\n      var pos = stage.getPointerPosition();\n      var endPos = {\n        x: pos.x - _this.image.x(),\n        y: pos.y - _this.image.y()\n      };\n      _this.context.lineTo(endPos.x, endPos.y);\n      _this.context.closePath();\n      _this.context.stroke();\n      layer.draw();\n\n      _this.$socket.emit('drawing', {\n        startPos: { x: lastPointerPosition.x, y: lastPointerPosition.y },\n        endPos: { x: pos.x, y: pos.y }\n      });\n\n      lastPointerPosition = pos;\n    });\n\n    this.$socket.on('drawing', function (data) {\n      _this.context.beginPath();\n      _this.context.moveTo(data.startPos.x - _this.image.x(), data.startPos.y - _this.image.y());\n      _this.context.lineTo(data.endPos.x - _this.image.x(), data.endPos.y - _this.image.y());\n      _this.context.closePath();\n      _this.context.stroke();\n      layer.draw();\n    });\n  }\n});\n\n/***/ })\n\n},[\"NHnr\"]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.3f489c43def2fc20d127.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b07f5b4e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b07f5b4e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = M93x\n// module chunks = 1","import Vue from 'vue'\nimport App from './App'\n/*import router from './router'*/\nimport ElementUI from 'element-ui'\nimport 'element-ui/lib/theme-chalk/index.css'\n\nimport socket from './services/socket-service'\n\nVue.use(ElementUI);\nVue.use(socket);\n\nVue.config.productionTip = false;\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  /*router,*/\n  render: h => h(App)\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import io from 'socket.io-client';\nconst SOCKET_URL = (process.env.NODE_ENV === 'development')? 'http://localhost:3001' : '';\nconsole.log(SOCKET_URL)\n\nconst socket = {\n  install(Vue, options) {\n    Vue.prototype.$socket = io(SOCKET_URL)\n  }\n};\n\nexport default socket;\n\n\n// WEBPACK FOOTER //\n// ./src/services/socket-service.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',[_c('el-header',[_vm._v(_vm._s(_vm.header))]),_vm._v(\" \"),_c('el-container',[_c('el-aside',{attrs:{\"width\":\"200px\"}},[_vm._v(\"Aside\")]),_vm._v(\" \"),_c('el-container',[_c('el-main',{attrs:{\"id\":\"container\"}}),_vm._v(\" \"),_c('el-footer',[_vm._v(\"Footer\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b07f5b4e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = v6e+\n// module chunks = 1","<template>\n  <el-container>\n    <el-header>{{header}}</el-header>\n    <el-container>\n      <el-aside width=\"200px\">Aside</el-aside>\n      <el-container>\n        <el-main id=\"container\">\n        </el-main>\n        <el-footer>Footer</el-footer>\n      </el-container>\n    </el-container>\n  </el-container>\n    <!--<router-view/>-->\n</template>\n\n<script>\n  import Konva from 'konva';\n\nexport default {\n  name: 'app',\n  data() {\n    return {\n      header: 'HEAD!',\n      image: null,\n      context: null\n    }\n  },\n  created() {\n    const audio = new Audio((process.env.NODE_ENV === 'development')? 'http://localhost:3001/suka.mp3' : '/suka.mp3');\n    this.$socket.on('connected', () => {\n      console.log('user connected!')\n\n      audio.pause();\n      audio.currentTime = 0;\n      audio.play();\n    });\n  },\n  mounted() {\n    const width = document.getElementById('container').clientWidth - 40;\n\n    const stage = new Konva.Stage({\n      container: 'container',\n      width,\n      height: 500\n    });\n    const layer = new Konva.Layer();\n    stage.add(layer);\n    const canvas = document.createElement('canvas');\n    canvas.width = stage.width();\n    canvas.height = stage.height();\n    this.image = new Konva.Image({\n      image: canvas,\n      x : 0,\n      y : 0,\n    });\n    layer.add(this.image);\n    stage.draw();\n    this.context = canvas.getContext('2d');\n    this.context.strokeStyle = \"#df4b26\";\n    this.context.lineJoin = \"round\";\n    this.context.lineWidth = 5;\n\n    let isPaint = false;\n    let lastPointerPosition;\n    let mode = 'brush';\n\n    stage.on('contentMousedown.proto', () => {\n      isPaint = true;\n      lastPointerPosition = stage.getPointerPosition();\n    });\n    stage.on('contentMouseup.proto', () => {\n      isPaint = false;\n    });\n    stage.on('contentMousemove.proto', () => {\n      if (!isPaint) {\n        return;\n      }\n      if (mode === 'brush') {\n        this.context.globalCompositeOperation = 'source-over';\n      }\n      if (mode === 'eraser') {\n        this.context.globalCompositeOperation = 'destination-out';\n      }\n      this.context.beginPath();\n      let startPos = {\n        x: lastPointerPosition.x - this.image.x(),\n        y: lastPointerPosition.y - this.image.y()\n      };\n      this.context.moveTo(startPos.x, startPos.y);\n      let pos = stage.getPointerPosition();\n      let endPos = {\n        x: pos.x - this.image.x(),\n        y: pos.y - this.image.y()\n      };\n      this.context.lineTo(endPos.x, endPos.y);\n      this.context.closePath();\n      this.context.stroke();\n      layer.draw();\n\n      this.$socket.emit('drawing', {\n        startPos: {x: lastPointerPosition.x, y: lastPointerPosition.y},\n        endPos: {x: pos.x, y: pos.y}\n      });\n\n      lastPointerPosition = pos;\n    });\n\n    this.$socket.on('drawing', (data) => {\n      this.context.beginPath();\n      this.context.moveTo(data.startPos.x - this.image.x(), data.startPos.y - this.image.y());\n      this.context.lineTo(data.endPos.x - this.image.x(), data.endPos.y - this.image.y());\n      this.context.closePath();\n      this.context.stroke();\n      layer.draw();\n    })\n  }\n}\n</script>\n\n<style>\n  .el-header, .el-footer {\n    background-color: #B3C0D1;\n    color: #333;\n    text-align: center;\n    line-height: 60px;\n  }\n\n  .el-aside {\n    background-color: #D3DCE6;\n    color: #333;\n    text-align: center;\n    line-height: 200px;\n  }\n\n  .el-main {\n    background-color: #E9EEF3;\n    color: #333;\n    text-align: center;\n    line-height: 160px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue"],"sourceRoot":""}